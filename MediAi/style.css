/* ==========================================================================
   MediAI 主题基础样式与变量定义
   ========================================================================== */

:root {
    /* --- 定制配色方案 (MediAI - 医疗科技蓝) --- */
    --primary-color: #3B82F6; /* 专业蓝 */
    --secondary-color: #1E40AF; /* 深蓝 */
    --accent-color: #F97316; /* 强调橙 (示例，可根据需要调整) */

    /* 对应深色模式下的亮色变体 */
    --primary-color-light: #60A5FA;
    --secondary-color-light: #93C5FD; /* 更亮的辅助蓝 */
    --accent-color-light: #FCD34D; /* 强调色亮变体 */

    /* 背景色 */
    --bg-light: #FFFFFF; /* 纯白 */
    --bg-dark: #111827; /* 深蓝灰 */
    --bg-subtle-light: #F3F4F6; /* 浅灰 */
    --bg-subtle-dark: #374151; /* 深灰 */

    /* 卡片/面板背景 (玻璃拟态) */
    --bg-card-light: rgba(255, 255, 255, 0.85);
    --bg-card-dark: rgba(30, 41, 59, 0.8);

    /* 悬停背景 */
    --bg-hover-light: rgba(59, 130, 246, 0.08); /* primary-color 的透明变体 */
    --bg-hover-dark: rgba(96, 165, 250, 0.12); /* primary-color-light 的透明变体 */

    /* 文本颜色 */
    --text-base-light: #1F2937; /* 深灰 */
    --text-base-dark: #D1D5DB; /* 浅灰 */
    --text-heading-light: #1E3A8A; /* 深蓝 */
    --text-heading-dark: #FFFFFF; /* 白色 */
    --text-muted-light: #6B7280; /* 中灰 */
    --text-muted-dark: #9CA3AF; /* 较浅灰 */
    --text-link-light: var(--primary-color);
    --text-link-dark: var(--primary-color-light);
    --text-on-primary: #FFFFFF;

    /* 边框颜色 */
    --border-light: rgba(59, 130, 246, 0.15); /* primary-color 的透明变体 */
    --border-dark: rgba(96, 165, 250, 0.2); /* primary-color-light 的透明变体 */
    --border-input-light: #D1D5DB; /* gray-300 */
    --border-input-dark: #4B5563; /* gray-600 */
    --border-hover-light: rgba(59, 130, 246, 0.4);
    --border-hover-dark: rgba(96, 165, 250, 0.5);
    --border-card-light: rgba(0, 0, 0, 0.05);
    --border-card-dark: rgba(255, 255, 255, 0.08);

    /* --- 圆角 --- */
    --rounded-btn: 9999px;
    --rounded-input: 0.5rem;
    --rounded-lg: 0.75rem;
    --rounded-xl: 1.25rem; /* 标准卡片圆角 */
    --rounded-2xl: 1.5rem; /* 图片/大元素圆角 */
    --rounded-icon-bg: 0.75rem;

    /* --- 阴影 --- */
    /* 阴影颜色可基于主色调调整，使其略带蓝色 */
    --shadow-color-light: rgba(59, 130, 246, 0.08);
    --shadow-color-dark: rgba(0, 0, 0, 0.4); /* 暗色模式阴影通常更深 */

    --shadow-sm: 0 2px 5px var(--shadow-color-light);
    --shadow-md: 0 4px 10px var(--shadow-color-light);
    --shadow-lg: 0 12px 25px var(--shadow-color-light);
    --shadow-xl: 0 25px 50px var(--shadow-color-light);

    --shadow-dark-sm: 0 2px 6px var(--shadow-color-dark);
    --shadow-dark-md: 0 5px 15px var(--shadow-color-dark);
    --shadow-dark-lg: 0 15px 35px var(--shadow-color-dark);
    --shadow-dark-xl: 0 30px 60px var(--shadow-color-dark);


    /* --- 过渡 --- */
    --transition-fast: all 0.2s ease-in-out;
    --transition-base: all 0.3s ease-in-out;
    --transition-slow: all 0.5s ease-in-out;

    /* --- 光晕效果 (可基于主色调调整) --- */
    --glow-primary-light: 0 0 15px rgba(59, 130, 246, 0.3);
    --glow-primary-dark: 0 0 20px rgba(96, 165, 250, 0.4);


    /* --- 流程图节点颜色变量 (根据新配色调整) --- */
    --node-color-data: var(--secondary-color); /* 深蓝 */
    --node-color-data-light: var(--secondary-color-light);
    --node-color-io: var(--primary-color); /* 主蓝 */
    --node-color-io-light: var(--primary-color-light);
    --node-color-process: #9333EA; /* 紫色示例，体现处理 */
    --node-color-process-light: #C084FC;
    --node-color-rag: #06B6D4; /* 青色示例，体现检索 */
    --node-color-rag-light: #22D3EE;
    --node-color-llm: var(--primary-color); /* AI/LLM 用主色 */
    --node-color-llm-light: var(--primary-color-light);
    --node-color-output: var(--primary-color); /* 输出用主色 */
    --node-color-output-light: var(--primary-color-light);

    /* --- 特性图标背景颜色变量 (根据新配色调整) --- */
    --icon-bg-feature-1: #DBEAFE; /* 浅蓝 */
    --icon-bg-feature-2: #E0F2F7; /* 浅青 */
    --icon-bg-feature-3: #EDE9FE; /* 浅紫 */
    /* ... 定义更多图标背景色 ... */

    /* --- 优势图标背景渐变颜色变量 (根据新配色调整) --- */
    --icon-bg-benefit-1: linear-gradient(to right, var(--primary-color), var(--primary-color-light));
    --icon-bg-benefit-2: linear-gradient(to right, var(--secondary-color), var(--secondary-color-light));
    --icon-bg-benefit-3: linear-gradient(to right, #8B5CF6, #A78BFA); /* 紫色渐变示例 */
    --icon-bg-benefit-4: linear-gradient(to right, #EF4444, #F87171); /* 红色渐变示例 */


}

/* --- 基础样式和字体设置 --- */
body {
    font-family: 'Noto Sans SC', Tahoma, Arial, Roboto, "Droid Sans", "Helvetica Neue", "Droid Sans Fallback", "Heiti SC", "Hiragino Sans GB", Simsun, sans-serif;
    /* Background applied via global-gradient-bg class */
    color: var(--text-base-light);
    transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    position: relative;
    z-index: 0;
    /* backdrop-filter: blur(5px); /* Optional: subtle blur on body for glassmorphism layers below */
}

h1, h2, h3, h4, h5, h6, .font-serif {
    font-family: 'Noto Serif SC', serif;
    color: var(--text-heading-light);
}

/* 暗色模式基础样式 */
html.dark body {
    color: var(--text-base-dark);
}
html.dark h1, html.dark h2, html.dark h3, html.dark h4, html.dark h5, html.dark h6, html.dark .font-serif {
    color: var(--text-heading-dark);
}

/* 全局链接样式 */
.link {
    color: var(--text-link-light);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease-in-out;
}
.link:hover { text-decoration: underline; }
html.dark .link { color: var(--text-link-dark); }

/* 全局背景 */
.global-gradient-bg { background-color: var(--bg-light); }
html.dark .global-gradient-bg { background-color: var(--bg-dark); }
/* Fixed background SVGs are placed in HTML and animated via JS */


/* ==========================================================================
   通用组件样式 (Common Components) - 基本骨架
   ========================================================================== */

.container {
    width: 100%; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem;
}
@media (min-width: 640px) { .container { max-width: 640px; padding-left: 1.5rem; padding-right: 1.5rem; } }
@media (min-width: 768px) { .container { max-width: 768px; } }
@media (min-width: 1024px) { .container { max-width: 1024px; padding-left: 2rem; padding-right: 2rem; } }
@media (min-width: 1280px) { .container { max-width: 1280px; } }
@media (min-width: 1536px) { .container { max-width: 1536px; } }

.section-padding {
    padding-top: 4rem; padding-bottom: 4rem; /* Base padding */
}
@media (min-width: 640px) { .section-padding { padding-top: 5rem; padding-bottom: 5rem; } }
@media (min-width: 768px) { .section-padding { padding-top: 6rem; padding-bottom: 6rem; } }


.heading {
    margin-top: 0.5rem; font-size: 1.875rem; line-height: 1.25; font-weight: 700;
    letter-spacing: -0.025em; font-family: 'Noto Serif SC', serif; color: var(--text-heading-light);
}
html.dark .heading { color: var(--text-heading-dark); }
@media (min-width: 640px) { .heading { font-size: 2.25rem; line-height: 2.5rem; } }

.subheading {
    font-size: 1rem; line-height: 1.75rem; font-weight: 600; letter-spacing: 0.05em;
    color: var(--primary-color);
}
html.dark .subheading { color: var(--primary-color-light); }
.subheading.text-secondary { color: var(--secondary-color); }
html.dark .subheading.text-secondary { color: var(--secondary-color-light); }

.section-title-mb {
    margin-bottom: 3rem;
}
@media (min-width: 768px) { .section-title-mb { margin-bottom: 4rem; } }


/* 按钮样式 */
.btn {
    display: inline-flex; align-items: center; justify-content: center;
    padding: 0.75rem 2rem; border-radius: var(--rounded-btn); font-weight: 600;
    transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 300ms;
    box-shadow: var(--shadow-lg); white-space: nowrap; letter-spacing: 0.5px; cursor: pointer; outline: none;
    border: 1px solid transparent;
}
html.dark .btn { box-shadow: var(--shadow-dark-lg); }
.btn:hover { transform: translateY(-4px); }
.btn:focus-visible { box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4); /* Use primary color for focus ring */ }
html.dark .btn:focus-visible { box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.5); /* Use primary-light for focus ring */ }
.btn i { transition: transform 0.3s ease-in-out; display: inline-block; }

.btn-gradient-primary {
    background-image: linear-gradient(to right, var(--primary-color) 0%, var(--primary-color-light) 50%, var(--primary-color) 100%);
    background-size: 200% auto; border: none; color: var(--text-on-primary);
}
html.dark .btn-gradient-primary { background-image: linear-gradient(to right, var(--primary-color-light) 0%, var(--secondary-color-light) 50%, var(--primary-color-light) 100%); } /* Adjust gradient for dark mode */
.btn-gradient-primary:hover { background-position: right center; }

.btn-gradient-secondary {
    background-image: linear-gradient(to bottom, rgba(255,255,255,0.9) 0%, rgba(248, 250, 252, 0.9) 100%); /* Use light bg colors */
    border: 1px solid var(--border-light); color: var(--text-base-light); backdrop-filter: blur(4px);
    box-shadow: var(--shadow-md);
}
html.dark .btn-gradient-secondary {
    background-image: linear-gradient(to bottom, rgba(30, 41, 59, 0.8) 0%, rgba(17, 24, 39, 0.8) 100%); /* Use dark bg colors */
    border-color: var(--border-dark); color: var(--text-base-dark); backdrop-filter: blur(4px);
    box-shadow: var(--shadow-dark-md);
}
.btn-gradient-secondary:hover {
    border-color: var(--border-hover-light);
    background-image: linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(250, 253, 255, 1) 100%);
}
html.dark .btn-gradient-secondary:hover {
    border-color: var(--border-hover-dark);
    background-image: linear-gradient(to bottom, rgba(35, 50, 65, 0.9) 0%, rgba(22, 30, 40, 0.9) 100%);
}


/* 导航链接 */
.nav-link {
    color: var(--text-muted-light); font-weight: 500; border-radius: var(--rounded-lg);
    padding: 0.5rem 0.75rem; transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
    position: relative; text-decoration: none; background-color: transparent;
}
.nav-link:hover { color: var(--primary-color); background-color: rgba(59, 130, 246, 0.08); } /* Use primary color */
html.dark .nav-link { color: var(--text-muted-dark); }
html.dark .nav-link:hover { color: var(--primary-color-light); background-color: rgba(96, 165, 250, 0.1); } /* Use primary-light */
.nav-link::after { /* Underline animation */
    content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 50%;
    background-color: var(--primary-color); transition: all 0.3s ease-in-out; transform: translateX(-50%);
}
html.dark .nav-link::after { background-color: var(--primary-color-light); }
.nav-link:hover::after { width: 50%; }

/* 页脚图标链接 */
.footer-icon-link {
    color: var(--text-muted-light); font-size: 1.25rem;
    transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
}
html.dark .footer-icon-link { color: var(--text-muted-dark); }
.footer-icon-link:hover { color: var(--text-link-light); transform: scale(1.1); }
html.dark .footer-icon-link:hover { color: var(--text-link-dark); }


/* Header Actions (Theme Toggle, GitHub/External Link) */
.theme-toggle-button, .github-link {
    display: inline-flex; align-items: center; justify-content: center;
    color: var(--text-muted-light); padding: 0.5rem; border-radius: var(--rounded-lg);
    transition: var(--transition-fast); background-color: transparent; border: none; cursor: pointer;
}
.theme-toggle-button:hover, .github-link:hover { color: var(--text-link-light); background-color: var(--bg-hover-light); }
html.dark .theme-toggle-button, html.dark .github-link { color: var(--text-muted-dark); }
html.dark .theme-toggle-button:hover, html.dark .github-link:hover { color: var(--text-link-dark); background-color: var(--bg-hover-dark); }
.theme-toggle-button svg { width: 1.25rem; height: 1.25rem; fill: currentColor; }
.github-link i { font-size: 1.25rem; }


/* --- Section Specific Styles (Basic Bone Structure) --- */

/* Hero Section */
.hero-section .text-gradient-primary { /* Example - adjust if needed */
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text; background-clip: text; color: transparent;
    display: inline-block; margin-top: 1rem;
}
html.dark .hero-section .text-gradient-primary {
    background: linear-gradient(90deg, var(--primary-color-light), var(--secondary-color-light));
    -webkit-background-clip: text; background-clip: text; color: transparent;
}
.hero-subtitle-gradient { /* Example - adjust if needed */
    background-image: linear-gradient(95deg, var(--primary-color) 0%, var(--primary-color-light) 50%, var(--accent-color) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    display: inline-block;
    padding: 0.1em 0;
    font-size: 4rem; /* Adjust as needed */
    font-weight: 600; /* Adjust as needed */
    line-height: 4rem;
}
html.dark .hero-subtitle-gradient {
    background-image: linear-gradient(95deg, var(--primary-color-light) 0%, var(--secondary-color-light) 50%, var(--accent-color-light) 100%);
}


/* About Section */
.about-text-panel {
    background-color: var(--bg-card-light); backdrop-filter: blur(12px);
    border-radius: var(--rounded-xl); padding: 2rem; box-shadow: var(--shadow-lg);
    border: 1px solid var(--border-card-light);
}
html.dark .about-text-panel {
    background-color: var(--bg-card-dark); border-color: var(--border-card-dark);
    box-shadow: var(--shadow-dark-lg);
}
/* First Letter Drop - Needs careful tuning */
#about .first-letter-drop {
    margin-top: 1.5rem;
    font-size: 1.125rem;
    line-height: 1.75;
    color: var(--text-muted-light);
    /* Padding adjusted based on font size of ::first-letter */
    padding-left: calc(4.5em * 0.15 + 0.05em); /* Keep calc based on expected size */
}
html.dark #about .first-letter-drop { color: var(--text-base-dark); }
#about .first-letter-drop::first-letter {
    font-family: 'Noto Serif SC', serif;
    font-size: 4.5em; /* Example size, adjust based on desired effect */
    font-weight: 600;
    float: left;
    line-height: 1;
    margin-right: 0.15em;
    margin-top: 0.1em;
    margin-bottom: -0.2em;
    color: var(--primary-color);
    transition: color 0.3s ease;
    position: relative;
}
html.dark #about .first-letter-drop::first-letter {
    color: var(--primary-color-light);
}
#about .first-letter-drop::after {
    content: "";
    display: table;
    clear: both;
}
#about img {
    border-radius: var(--rounded-2xl); /* Use 2xl for images */
    box-shadow: var(--shadow-xl);
    aspect-ratio: 16 / 9;
    object-fit: cover;
    transition: transform 0.5s ease-in-out;
}
#about img:hover {
    transform: scale(1.05);
}
/* Add utility classes used in HTML if not using a framework like Tailwind */
/* .mt-5, .leading-relaxed, .mt-12, .lg\:mt-0, .text-xs, .text-gray-500, .text-gray-400, .text-right, .mt-3 */


/* Features Section - Card Styles */
.feature-card {
    padding: 1.5rem;
    background-color: var(--bg-card-light);
    border-radius: var(--rounded-xl);
    border: 1px solid var(--border-card-light);
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(16px) saturate(180%);
    transition: var(--transition-base);
    position: relative; overflow: hidden;
    transform-style: preserve-3d; perspective: 1000px;
    display: flex; flex-direction: column; /* Ensure content stacks */
}
html.dark .feature-card {
    background-color: var(--bg-card-dark);
    border-color: var(--border-card-dark);
    box-shadow: var(--shadow-dark-md);
}
.feature-card:hover {
    transform: translateY(-8px) rotateX(3deg) rotateY(-2deg) scale(1.03); /* 3D effect */
    box-shadow: var(--shadow-lg);
    border-color: var(--border-hover-light);
}
html.dark .feature-card:hover {
    box-shadow: var(--shadow-dark-lg);
    border-color: var(--border-hover-dark);
}
.feature-card::before { /* Hover Glow */
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, transparent 70%); /* Use primary color */
    opacity: 0; transform: scale(0.8); border-radius: inherit; z-index: -1;
    transition: opacity var(--transition-slow) ease, transform var(--transition-slow) ease;
    pointer-events: none;
}
html.dark .feature-card::before { background: radial-gradient(circle, rgba(96, 165, 250, 0.1) 0%, transparent 70%); } /* Use primary-light */
.feature-card:hover::before { opacity: 1; transform: scale(1); }

.feature-card .icon-wrapper {
    height: 3rem; width: 3rem; border-radius: var(--rounded-lg);
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition-base); box-shadow: var(--shadow-sm);
    margin-bottom: 1rem; /* Add margin */
}
html.dark .feature-card .icon-wrapper { box-shadow: var(--shadow-dark-sm); }
.feature-card:hover .icon-wrapper { transform: scale(1.15) rotate(-8deg); box-shadow: var(--shadow-md); }
html.dark .feature-card:hover .icon-wrapper { box-shadow: var(--shadow-dark-md); }

/* Specific Icon Backgrounds (Use Feature Icon Background Variables) */
.feature-icon-bg-1 { background-color: var(--icon-bg-feature-1); color: var(--primary-color);} /* Example color pairing */
html.dark .feature-icon-bg-1 { background-color: var(--bg-subtle-dark); color: var(--primary-color-light);} /* Dark mode pairing */
.feature-icon-bg-2 { background-color: var(--icon-bg-feature-2); color: var(--secondary-color);}
html.dark .feature-icon-bg-2 { background-color: var(--bg-subtle-dark); color: var(--secondary-color-light);}
.feature-icon-bg-3 { background-color: var(--icon-bg-feature-3); color: #6D28D9;} /* Example purple */
html.dark .feature-icon-bg-3 { background-color: var(--bg-subtle-dark); color: #A78BFA;}


.feature-title { font-size: 1.125rem; font-weight: 600; color: var(--text-heading-light); margin-top: 0.5rem; } /* Adjust margin */
html.dark .feature-title { color: var(--text-heading-dark); }
.feature-description { font-size: 0.9rem; color: var(--text-muted-light); line-height: 1.7; margin-top: 0.5rem; }
html.dark .feature-description { color: var(--text-muted-dark); }


/* How it Works / Visualization Section - Flowchart Styles */

.flowchart-flex-container {
    display: flex;
    flex-direction: column; /* Mobile First: Vertical stack */
    align-items: center;
    gap: 1rem; /* Gap between stages/connectors */
    padding: 1rem 0;
}

.flowchart-flex-stage {
    display: flex;
    flex-direction: column; /* Nodes stack vertically within stage */
    align-items: center; /* Center nodes horizontally */
    gap: 1.5rem; /* Space between nodes in the same stage */
    width: 100%; /* Full width on mobile */
    padding: 1rem 0; /* Vertical padding within stage */
}

.flowchart-flex-connector {
    width: 2px; /* Vertical connector line */
    height: 3rem; /* Height of connector */
    position: relative;
    display: flex;
    justify-content: center;
    align-items: flex-end; /* Arrow at the bottom */
    margin: 0.5rem 0; /* Vertical margin */
}

.flowchart-flex-connector .connector-line {
    width: 100%;
    height: 100%;
    background: linear-gradient(
            to bottom,
            transparent 0%,
            var(--border-dark) 30%, /* Use border color for line */
            var(--border-dark) 70%,
            transparent 100%
    );
    opacity: 0.6;
    background-size: 100% 200%;
    animation: flow-gradient-vertical 2s linear infinite; /* Keep animation name specific */
}
html.dark .flowchart-flex-connector .connector-line {
    background: linear-gradient(
            to bottom,
            transparent 0%,
            var(--border-light) 30%,
            var(--border-light) 70%,
            transparent 100%
    );
    background-size: 100% 200%; animation: flow-gradient-vertical 2s linear infinite;
}

.flowchart-flex-connector .connector-arrow {
    position: absolute;
    bottom: -1px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 9px solid var(--border-dark); /* Arrow color uses border */
}
html.dark .flowchart-flex-connector .connector-arrow {
    border-top-color: var(--border-light);
}

/* --- Desktop Layout (Large Screens) --- */
@media (min-width: 1024px) {
    .flowchart-flex-container {
        flex-direction: row; /* Horizontal layout */
        align-items: stretch; /* Stretch stages vertically */
        justify-content: center; /* Center stages horizontally */
        gap: 0; /* Remove gap, connectors handle spacing */
        padding: 2rem 0;
    }

    .flowchart-flex-stage {
        flex-direction: column; /* Keep nodes vertical within stage */
        justify-content: center; /* Center nodes vertically in stage */
        align-items: center;
        gap: 2rem; /* Increase gap between nodes */
        width: auto; /* Allow content width */
        min-width: 11rem; /* Ensure enough space for node */
        padding: 0 1rem; /* Horizontal padding for stage */
    }

    .flowchart-flex-connector {
        width: 5rem; /* Horizontal connector length */
        height: auto; /* Height determined by alignment */
        align-self: center; /* Vertically center the connector */
        flex-direction: row; /* Align line and arrow horizontally */
        align-items: center; /* Center line/arrow vertically */
        margin: 0 1rem; /* Horizontal margin */
    }

    .flowchart-flex-connector .connector-line {
        width: 100%;
        height: 2px; /* Horizontal line thickness */
        background: linear-gradient(
                to right, /* Change gradient direction */
                transparent 0%,
                var(--border-dark) 30%,
                var(--border-dark) 70%,
                transparent 100%
        );
        background-size: 200% 100%;
        animation: flow-gradient-horizontal 2s linear infinite;
    }
    html.dark .flowchart-flex-connector .connector-line {
        background: linear-gradient(
                to right,
                transparent 0%,
                var(--border-light) 30%,
                var(--border-light) 70%,
                transparent 100%
        );
        background-size: 200% 100%; animation: flow-gradient-horizontal 2s linear infinite;
    }

    .flowchart-flex-connector .connector-arrow {
        position: absolute;
        right: -1px;
        top: 50%;
        transform: translateY(-50%);
        left: auto;
        bottom: auto;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
        border-left: 9px solid var(--border-dark); /* Arrow color */
        border-right: 0;
    }
    html.dark .flowchart-flex-connector .connector-arrow {
        border-left-color: var(--border-light);
    }

    /* Horizontal flow animation */
    @keyframes flow-gradient-horizontal {
        0% { background-position: 100% 0%; }
        100% { background-position: -100% 0%; }
    }
}

/* --- Flowchart Node Styles --- */
.flowchart-node {
    width: 10rem; height: 10rem; padding: 1rem;
    display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
    border-radius: 50%; border: 2px solid transparent;
    background: radial-gradient(circle at center, var(--bg-card-light) 0%, transparent 100%);
    box-shadow: var(--shadow-sm), inset 0 0 10px rgba(255,255,255,0.3); /* Adjust inset shadow opacity if needed */
    backdrop-filter: blur(10px) saturate(150%);
    position: relative; overflow: visible;
    transform-style: preserve-3d; perspective: 1000px;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
html.dark .flowchart-node {
    background: radial-gradient(circle at center, var(--bg-card-dark) 0%, transparent 100%);
    box-shadow: var(--shadow-dark-sm), inset 0 0 15px rgba(0,0,0,0.4); /* Adjust inset shadow opacity if needed */
}

/* Node type color variables are defined in :root */
/* .flowchart-node.node-data { --node-color: var(--node-color-data); --node-color-light: var(--node-color-data-light); } */
/* ... define styles for node-io, node-process, node-rag, node-llm, node-output ... */
.flowchart-node.node-data { --node-color: var(--node-color-data); --node-color-light: var(--node-color-data-light); }
.flowchart-node.node-io { --node-color: var(--node-color-io); --node-color-light: var(--node-color-io-light); }
.flowchart-node.node-process { --node-color: var(--node-color-process); --node-color-light: var(--node-color-process-light); }
.flowchart-node.node-rag { --node-color: var(--node-color-rag); --node-color-light: var(--node-color-rag-light); }
.flowchart-node.node-llm { --node-color: var(--node-color-llm); --node-color-light: var(--node-color-llm-light); }
.flowchart-node.node-output { --node-color: var(--node-color-output); --node-color-light: var(--node-color-output-light); }


.flowchart-node::before { /* Pulsing Glow */
    content: ''; position: absolute; top: -4px; left: -4px; right: -4px; bottom: -4px;
    border-radius: 50%; border: 2px solid var(--node-color, transparent); /* Uses node color */
    opacity: 0; animation: pulse-glow 2.5s infinite ease-out; z-index: -1;
    transition: opacity 0.4s ease; pointer-events: none;
}
html.dark .flowchart-node::before { border-color: var(--node-color-light, transparent); }

.flowchart-node:hover {
    transform: translateY(-10px) scale(1.08) rotateZ(5deg);
    border-color: var(--node-color); box-shadow: var(--shadow-lg), 0 0 25px var(--node-color); /* Glow uses node color */
}
html.dark .flowchart-node:hover { border-color: var(--node-color-light); box-shadow: var(--shadow-dark-lg), 0 0 30px var(--node-color-light); /* Glow uses node-light color */ }
.flowchart-node:hover::before { opacity: 0.8; animation-play-state: paused; }

.flowchart-node i {
    font-size: 2rem; margin-bottom: 0.75rem; color: var(--node-color); /* Icon color uses node color */
    transition: transform 0.5s ease, filter 0.3s ease; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
    transform: translateZ(20px);
}
html.dark .flowchart-node i { color: var(--node-color-light); filter: drop-shadow(0 3px 5px rgba(0,0,0,0.4));}
.flowchart-node:hover i { transform: translateZ(40px) scale(1.2) rotateY(360deg); filter: drop-shadow(0 5px 8px rgba(0,0,0,0.3)); }
html.dark .flowchart-node:hover i { filter: drop-shadow(0 6px 10px rgba(0,0,0,0.5));}

.flowchart-node span { font-size: 0.8rem; font-weight: 500; color: var(--text-heading-light); }
html.dark .flowchart-node span { color: var(--text-heading-dark); }
.flowchart-node .node-subtitle { font-size: 0.65rem; color: var(--text-muted-light); margin-top: 0.1rem; }
html.dark .flowchart-node .node-subtitle { color: var(--text-muted-dark); }

/* Flow gradient animation */
@keyframes flow-gradient-vertical {
    0% { background-position: 0% 100%; }
    100% { background-position: 0% -100%; }
}
/* Horizontal animation defined in media query */


/* Technology Stack Section - Item Styles */
.tech-item {
    padding: 1.5rem 1rem; text-align: center;
    background-color: var(--bg-card-light);
    border-radius: var(--rounded-xl);
    border: 1px solid var(--border-card-light);
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(10px);
    transition: var(--transition-base);
    position: relative; overflow: hidden;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}
html.dark .tech-item {
    background-color: var(--bg-card-dark);
    border-color: var(--border-card-dark);
    box-shadow: var(--shadow-dark-md);
}
.tech-item:hover {
    transform: translateY(-6px) scale(1.04);
    box-shadow: var(--shadow-lg);
    border-color: var(--border-hover-light);
}
html.dark .tech-item:hover {
    box-shadow: var(--shadow-dark-lg);
    border-color: var(--border-hover-dark);
}
.tech-item .tech-icon {
    font-size: 2.25rem; margin-bottom: 1rem;
    transition: var(--transition-base);
}
.tech-item:hover .tech-icon { transform: scale(1.2) rotate(10deg) translateY(-5px); }
.tech-name { font-weight: 600; font-size: 0.9rem; color: var(--text-heading-light); }
html.dark .tech-name { color: var(--text-heading-dark); }
.tech-desc { font-size: 0.75rem; color: var(--text-muted-light); margin-top: 0.25rem; }
html.dark .tech-desc { color: var(--text-muted-dark); }


/* Benefits Section - Item Styles */
.benefit-item {
    background-color: var(--bg-card-light);
    border-radius: var(--rounded-xl);
    border: 1px solid var(--border-card-light);
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(12px);
    transition: var(--transition-base);
    position: relative;
    padding: 1.5rem; display: flex; align-items: flex-start; gap: 1rem;
}
html.dark .benefit-item {
    background-color: var(--bg-card-dark);
    border-color: var(--border-card-dark);
    box-shadow: var(--shadow-dark-md);
}
.benefit-item:hover {
    transform: translateY(-6px) scale(1.03);
    box-shadow: var(--shadow-lg);
    border-color: var(--border-hover-light);
}
html.dark .benefit-item:hover {
    box-shadow: var(--shadow-dark-lg);
    border-color: var(--border-hover-dark);
}
.benefit-icon-wrapper {
    flex-shrink: 0; height: 3rem; width: 3rem; border-radius: var(--rounded-lg);
    display: flex; align-items: center; justify-content: center;
    box-shadow: var(--shadow-md); transition: var(--transition-base);
    color: white; /* Icons on gradient background are white */
}
.benefit-item:hover .benefit-icon-wrapper { transform: scale(1.15) rotate(-5deg); box-shadow: var(--shadow-lg); }

/* Benefit Icon Background Gradients (Use Benefit Icon Background Variables) */
.benefit-icon-bg-1 { background-image: var(--icon-bg-benefit-1); } /* Primary gradient */
.benefit-icon-bg-2 { background-image: var(--icon-bg-benefit-2); } /* Secondary gradient */
.benefit-icon-bg-3 { background-image: var(--icon-bg-benefit-3); } /* Example purple gradient */
.benefit-icon-bg-4 { background-image: var(--icon-bg-benefit-4); } /* Example red gradient */

.benefit-content { flex-grow: 1; }
.benefit-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-heading-light); }
html.dark .benefit-title { color: var(--text-heading-dark); }
.benefit-description { font-size: 0.95rem; color: var(--text-muted-light); line-height: 1.7; }
html.dark .benefit-description { color: var(--text-muted-dark); }


/* Further Reading Section - Card Styles */
.reading-card {
    background-color: var(--bg-card-light);
    padding: 1.25rem; border-radius: var(--rounded-xl);
    box-shadow: var(--shadow-md); transition: var(--transition-base);
    position: relative; overflow: hidden;
    border: 1px solid var(--border-card-light); backdrop-filter: blur(10px);
    display: flex; align-items: flex-start; gap: 1rem;
}
html.dark .reading-card {
    background-color: var(--bg-card-dark);
    border-color: var(--border-card-dark); box-shadow: var(--shadow-dark-md);
}
.reading-card:hover {
    box-shadow: var(--shadow-lg); border-color: var(--border-hover-light);
    transform: translateY(-5px) scale(1.02);
}
html.dark .reading-card:hover { box-shadow: var(--shadow-dark-lg); border-color: var(--border-hover-dark); }


.reading-icon-wrapper {
    flex-shrink: 0; width: 2.5rem; height: 2.5rem; border-radius: var(--rounded-lg);
    background-color: rgba(59, 130, 246, 0.1); /* Use primary color transparent */
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition-base);
}
html.dark .reading-icon-wrapper { background-color: rgba(96, 165, 250, 0.15); } /* Use primary-light transparent */
.reading-card:hover .reading-icon-wrapper { background-color: rgba(59, 130, 246, 0.2); transform: scale(1.1); }
html.dark .reading-card:hover .reading-icon-wrapper { background-color: rgba(96, 165, 250, 0.25); }
.reading-icon-wrapper i { font-size: 1.25rem; color: var(--primary-color); }
html.dark .reading-icon-wrapper i { color: var(--primary-color-light); }

.reading-content { flex-grow: 1; }
.reading-title { font-weight: 600; font-size: 1.05rem; margin-bottom: 0.25rem; color: var(--text-heading-light); }
html.dark .reading-title { color: var(--text-heading-dark); }
.reading-description { font-size: 0.85rem; color: var(--text-muted-light); line-height: 1.6; }
html.dark .reading-description { color: var(--text-muted-dark); }


/* ==========================================================================
   自定义动画
   ========================================================================== */
@keyframes pulse { /* Logo Pulse */
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: .6; transform: scale(1.05); }
}
@keyframes bounce { /* Email Icon Bounce */
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
    40% {transform: translateY(-6px);}
    60% {transform: translateY(-3px);}
}
@keyframes pulse-glow { /* For flowchart nodes */
    0% { transform: scale(0.95); opacity: 0; }
    50% { opacity: 0.6; }
    100% { transform: scale(1.1); opacity: 0; }
}
/* Flow gradient animations are defined within the flowchart styles */

/* ==========================================================================
   响应式布局微调 (Placeholder - Add any necessary media queries)
   ========================================================================== */

/* Add specific breakpoints and adjustments here if needed */

